{"version":3,"file":"commonHelpers.js","sources":["../src/js/feachCart.js","../src/js/createArrayElement.js","../src/js/thenCatch.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nexport const fetchCart = async searchParams => {\n  const response = await axios.get(`https://pixabay.com/api/`, {\n    params: searchParams,\n  });\n  return response;\n};\n","const createArrayElement = arr => {\n  return arr.reduce((acc, item) => {\n    acc.push(\n      ` <li class='list-item'><a  href=\"${item.largeImageURL}\"><img width=\"360\"\n           height=\"200\"   src=\"${item.webformatURL}\" alt=\"${item.tags}\"></a><div class=\"cont\">\n          <div class=\"mini-cont\">\n            <p><strong>Likes</strong></p>\n            <p>${item.likes}</p> \n          </div>\n          <div class=\"mini-cont\">\n            <p><strong>Views</strong></p>\n            <p>${item.views}</p>\n          </div>\n          <div class=\"mini-cont\">\n            <p><strong>Comment</strong></p>\n            <p>${item.comments}</p>\n          </div>\n          <div class=\"mini-cont\">\n             <p><strong>Downloads</strong></p>\n            <p>${item.downloads}</p>\n          </div>\n        </div></li>`\n    );\n    return acc;\n  }, []);\n};\nexport { createArrayElement };\n","import { fetchCart } from './feachCart';\nimport { createArrayElement } from './createArrayElement';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst listEl = document.querySelector('.list');\nconst loader = document.querySelector('.loader');\nconst btnNextEl = document.querySelector('.next');\nconst gallery = new SimpleLightbox('.list a');\n\nexport const thenCatch = searchParams => {\n  fetchCart(searchParams)\n    .then(response => {\n      if (searchParams.page >= response.data.totalHits / 40) {\n        iziToast.error({\n          message: \"We're sorry, but you've reached the end of search results.\",\n          position: 'center',\n        });\n        btnNextEl.style.display = 'none';\n        loader.style.display = 'none';\n      } else return response.data;\n    })\n    .then(json => {\n      const marcup = createArrayElement(json.hits);\n      if (marcup.length < 1) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'center',\n        });\n        loader.style.display = 'none';\n      } else {\n        listEl.insertAdjacentHTML('beforeend', marcup.join(' '));\n        btnNextEl.style.display = 'block';\n        loader.style.display = 'none';\n        gallery.refresh();\n        if (searchParams.page > 1) {\n          window.scrollBy({\n            top:\n              2 *\n              document.querySelector('.list-item').getBoundingClientRect()\n                .height,\n            behavior: 'smooth',\n          });\n        }\n      }\n    })\n    .catch(err => {\n      console.log(err);\n    });\n};\n","import { thenCatch } from './js/thenCatch';\nconst loader = document.querySelector('.loader');\nconst formEl = document.querySelector('.form');\nconst listEl = document.querySelector('.list');\nconst btnNextEl = document.querySelector('.next');\n\nconst searchParams = {\n  key: '41368993-aecccf11b76826fadfd0039f8',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n  per_page: 40,\n  page: 1,\n};\nconst formSubmit = event => {\n  event.preventDefault();\n  btnNextEl.style.display = 'none';\n  if (listEl.children.length > 0) listEl.innerHTML = '';\n  loader.style.display = 'inline-block';\n  searchParams.q = formEl.search.value;\n  searchParams.page = 1;\n  formEl.reset();\n  thenCatch(searchParams);\n};\nconst nextElements = () => {\n  loader.style.display = 'inline-block';\n  searchParams.page++;\n  thenCatch(searchParams);\n\n  /*  0,\n    2 * document.querySelector('.list-item').getBoundingClientRect().height,\n    { behavior: 'smooth' }*/\n};\n\nformEl.addEventListener('submit', formSubmit);\nbtnNextEl.addEventListener('click', nextElements);\n"],"names":["fetchCart","searchParams","axios","createArrayElement","arr","acc","item","listEl","loader","btnNextEl","gallery","SimpleLightbox","thenCatch","response","iziToast","json","marcup","err","formEl","formSubmit","event","nextElements"],"mappings":"owBACO,MAAMA,EAAY,MAAMC,GACZ,MAAMC,EAAM,IAAI,2BAA4B,CAC3D,OAAQD,CACZ,CAAG,ECJGE,EAAqBC,GAClBA,EAAI,OAAO,CAACC,EAAKC,KACtBD,EAAI,KACF,oCAAoCC,EAAK;AAAA,iCACdA,EAAK,sBAAsBA,EAAK;AAAA;AAAA;AAAA,iBAGhDA,EAAK;AAAA;AAAA;AAAA;AAAA,iBAILA,EAAK;AAAA;AAAA;AAAA;AAAA,iBAILA,EAAK;AAAA;AAAA;AAAA;AAAA,iBAILA,EAAK;AAAA;AAAA,oBAGtB,EACWD,GACN,CAAE,CAAA,EClBDE,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAY,SAAS,cAAc,OAAO,EAC1CC,EAAU,IAAIC,EAAe,SAAS,EAE/BC,EAAYX,GAAgB,CACvCD,EAAUC,CAAY,EACnB,KAAKY,GAAY,CAChB,GAAIZ,EAAa,MAAQY,EAAS,KAAK,UAAY,GACjDC,EAAS,MAAM,CACb,QAAS,6DACT,SAAU,QACpB,CAAS,EACDL,EAAU,MAAM,QAAU,OAC1BD,EAAO,MAAM,QAAU,WAClB,QAAOK,EAAS,IAC7B,CAAK,EACA,KAAKE,GAAQ,CACZ,MAAMC,EAASb,EAAmBY,EAAK,IAAI,EACvCC,EAAO,OAAS,GAClBF,EAAS,MAAM,CACb,QACE,2EACF,SAAU,QACpB,CAAS,EACDN,EAAO,MAAM,QAAU,SAEvBD,EAAO,mBAAmB,YAAaS,EAAO,KAAK,GAAG,CAAC,EACvDP,EAAU,MAAM,QAAU,QAC1BD,EAAO,MAAM,QAAU,OACvBE,EAAQ,QAAO,EACXT,EAAa,KAAO,GACtB,OAAO,SAAS,CACd,IACE,EACA,SAAS,cAAc,YAAY,EAAE,sBAAuB,EACzD,OACL,SAAU,QACtB,CAAW,EAGX,CAAK,EACA,MAAMgB,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,CACL,EClDMT,EAAS,SAAS,cAAc,SAAS,EACzCU,EAAS,SAAS,cAAc,OAAO,EACvCX,EAAS,SAAS,cAAc,OAAO,EACvCE,EAAY,SAAS,cAAc,OAAO,EAE1CR,EAAe,CACnB,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACV,KAAM,CACR,EACMkB,EAAaC,GAAS,CAC1BA,EAAM,eAAc,EACpBX,EAAU,MAAM,QAAU,OACtBF,EAAO,SAAS,OAAS,IAAGA,EAAO,UAAY,IACnDC,EAAO,MAAM,QAAU,eACvBP,EAAa,EAAIiB,EAAO,OAAO,MAC/BjB,EAAa,KAAO,EACpBiB,EAAO,MAAK,EACZN,EAAUX,CAAY,CACxB,EACMoB,EAAe,IAAM,CACzBb,EAAO,MAAM,QAAU,eACvBP,EAAa,OACbW,EAAUX,CAAY,CAKxB,EAEAiB,EAAO,iBAAiB,SAAUC,CAAU,EAC5CV,EAAU,iBAAiB,QAASY,CAAY"}